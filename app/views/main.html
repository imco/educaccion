<div id="camino" layout="column" >
  <div layout="row" layout-fill layout-md="column">
    <div class="intro left" flex="45" flex-sm="100" flex-md="100">
      <div layout="column" layout-align="center center" layout-fill layout-padding>
        <img ng-src="" alt="" class="tmp">
        <p class="question">¿Tienes una historia de éxito?</p>
        <p class="cuenta">¡Cuéntanosla!</p>
        <p class="share">¡La queremos compartir!</p>
        <div class="mbases" hide-md></div>
        <div class="bases" layout="column" layout-align="space-around center">
          <p>Leer bases de la convocatoria aquí:</p>
          <div layout="row" class="border-link" layout-align="center center">
            <span class="iconexito-pdf">
            </span>
            <p>Convocatoria</p>
            <a class="total-link" href="/algo">
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="intro right" flex hide-sm>
      <img src="images/nino.jpg" alt="">
    </div>
  </div>
  <div class="register info">
    <div layout="column" layout-align="center center">
      <span class="iconexito-registro"></span>
      <h1>Registra tu historia</h1>
      <p>Fecha limite de parte 1:</p>
      <p><strong>31 de Diciembre del 2015</strong></p>
      <a class="down" ng-click="toDown()"></a>
    </div>
  </div>
</div>

<div class="container inputs">
  <a id="registro"></a>
  <md-card layout-padding layout-wrap layout='row' ng-if='!saved &amp;&amp; !saving'>
    <div layout="column" layout-fill flex="50" layout-wrap>
      <div layout="row" layout-align="start center" class="input-header">
        <span class="circle">
          <span class="iconexito-escuela"></span>
        </span>
        <p>Escuela</p>
      </div>
      <md-autocomplete required
          md-input-name="autocompleteField"
          md-input-minlength="2"
          md-search-text="searchText"
          md-items="item in getSchools(searchText)"
          md-selected-item='selectedSchool'
          md-selected-item-change='selectSchool(selectedSchool)'
          md-item-text="item.nombre+', '+item.nom_municipio"
          md-floating-label="Nombre de la escuela"
          ng-model='story.school'
          >
        <md-item-template>
          <span md-highlight-text="searchText">{{item.nombre}}, {{item.nom_municipio}}</span>
        </md-item-template>
      </md-autocomplete>
    </div>
    <div layout="column" layout-fill flex="50">
      <div layout="row" layout-align="start center" class="input-header">
        <span class="circle">
          <span class="iconexito-escuela"></span>
        </span>
        <p>CCT</p>
      </div>
      <md-input-container>
        <label>Clave del Centro de Trabajo</label>
        <input required ng-model="story.cct" >
      </md-input-container>
    </div>
    <div layout="column" layout-fill flex="100">
      <div layout="row" layout-align="start center" class="input-header">
        <span class="circle">
          <span class="iconexito-nombre"></span>
        </span>
        <p>Nombre y datos de contacto del representante de madres y padres de familia designado para esta convocatoria</p>
      </div>
      <md-input-container>
        <label>Nombre</label>
        <input type='text' required ng-model="story.names">
      </md-input-container>
    </div>
    <div layout="column" layout-fill flex="50">
      <div layout="row" layout-align="start center" class="input-header">
        <span class="circle">
          <span class="iconexito-mail"></span>
        </span>
        <p>Mail</p>
      </div>
      <md-input-container>
        <label>Escribe tu mail</label>
        <input type='email' required ng-model="story.email">
      </md-input-container>
    </div>
    <div layout="column" layout-fill flex="50">
      <div layout="row" layout-align="start center" class="input-header">
        <span class="circle">
          <span class="iconexito-tel"></span>
        </span>
        <p>Teléfono</p>
      </div>
      <md-input-container flex='50'>
        <label>Teléfono</label>
        <input required ng-model="story.phone">
      </md-input-container>
    </div>
    <div layout="column" layout-fill flex="100">
      <div layout="row" layout-align="start center" class="input-header">
        <span class="circle">
          <span class="iconexito-integrantes"></span>
        </span>
        <p>Nombre de los integrantes de asociación de padres de familia o consejo de participación social (o de ambos)</p>
      </div>
      <md-input-container>
        <label>Nombre</label>
        <input type='text' required ng-model="story.names">
      </md-input-container>
    </div>
    <div layout="column" layout-fill flex="100" class="expand-header">
      <div layout="row" layout-align="start center" class="input-header">
        <span class="circle">
          <span class="iconexito-antecedentes"></span>
        </span>
        <p>Antecedentes</p>
      </div>
      <p class="info">
        <strong>Explicación de la problemática que se busca resolver</strong>
        (¿Por qué es un problema actual? ¿Qué lo origina?)
        <strong>y una breve justificación de por qué se considera importante por la comunidad educativa</strong>
        (¿Por qué, si lo resolvemos, se va a reflejar en mejores condiciones para el aprendizaje de nuestros hijos?)
      </p>
      <md-input-container>
        <label>Cuentanos tu historia</label>
        <textarea required ng-model="story.content" rows="4"></textarea>
      </md-input-container>
    </div>
    <div layout="column" layout-fill flex="100" class="expand-header">
      <div layout="row" layout-align="start center" class="input-header">
        <span class="circle">
          <span class="iconexito-antecedentes"></span>
        </span>
        <p>Objetivos del proyecto</p>
      </div>
      <ul class="info">
        <li><strong>Descripcion de las actividades que se planean realizar</strong>(¿Qué vamos a hacer?)</li>
        <li><strong>Lista de quiénes estaría involucrados </strong>(¿Quiénes participarán en lo que vamos a hacer?)</li>
        <li><strong>Fechas estimadas para la realización del proyecto</strong>(¿Con qué etapas y en que fechas vamos a realizar el proyecto de mejora?).</li>
      </ul>
      <md-input-container>
        <label>Nombres de los padres de familia</label>
        <textarea required ng-model="story.parents" rows="4" ></textarea>
      </md-input-container>
    </div>
    <div layout="column" layout-fill flex="100" class="expand-header">
      <div layout="row" layout-align="start center" class="input-header">
        <span class="circle">
          <span class="iconexito-antecedentes"></span>
        </span>
        <p>Organización</p>
      </div>
      <p class="info">
        <strong>Breve descripción de cómo se tomarán las decisiones</strong>
        (¿Cómo vamos a ponernos de acuerdo? ¿Qué haremos si surge un imprevisto? ¿Cómo vamos a verificar si avanzamos como lo planeamos?)
        <strong>Y cómo interactuarán con los maestros y directivos de la escuela</strong>
        (¿Cómo los vamos a informar? ¿Qué colaboración les vamos a pedir? ¿Cómo sabemos que están de acuerdo con lo que vamos haciendo y lo apoyan?).
      </p>
      <md-input-container>
        <label>Organización</label>
        <textarea required ng-model="story.org" rows="4" ></textarea>
      </md-input-container>
    </div>
    <div layout="column" layout-fill flex="100" class="expand-header">
      <div layout="row" layout-align="start center" class="input-header signature">
        <span class="circle">
          <span class="iconexito-firmas"></span>
        </span>
        <p>Firmas</p>
      </div>
      <p class="info">
        <strong>Anexe una hoja escaneada con los nombres y firmas de los integrantes de la sociedad de padres, como aval de que la participación en este proyecto es aprobada por todos los padres de familia</strong>
      </p>
      <md-input-container>
        <p class="warning">Sube el archivo desde tu computadora. El maximo es de 10MB</p>
        <div ng-file-reader on-readed="onReaded( event, file )" read-method="readMethod" accept="image/*" ></div>
        <p>{{file.name}}</p>
        <p>tamaño:{{file.size | fileSize}}</p>
      </md-input-container>
    </div>
    <div layout-align="center center" layout="column" flex="100" class="send">
      <md-button ng-if='!saved' class="md-raised md-primary" ng-click='save()'>Enviar registro</md-button>
      <span ng-if='saved' class="iconexito-listo"></span>
      <p ng-if='saved' class="success">¡Listo!</p>
      <p ng-if='saved'>Tu registro ya se envió</p>
    </div>
  </md-card>
  <div layout-fill layout='column' layout-align='center center' flex ng-if='saving' style='height:100%'>
    <md-progress-linear md-mode="indeterminate"></md-progress-linear>
    <p>Guardando....</p>
  </div>
  <!--
  <md-card layout-padding ng-if='saved' layout-fill flex>
    <h3>Gracias por tu entrada</h3>
  </md-card>
  -->
  <div layout="row" layout-fill layout-align="space-around center" class="logos">
    <img src="images/fundacion.png">
    <img src="images/imco.png">
  </div>
</div>
