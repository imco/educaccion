<md-card layout-padding layout-wrap layout='row' ng-if='!saved &amp;&amp; !saving'>
  <md-autocomplete flex='50' required
      md-input-name="autocompleteField"
      md-input-minlength="2"
      md-search-text="searchText"
      md-items="item in getSchools(searchText)"
      md-selected-item='selectedSchool'
      md-selected-item-change='selectSchool(selectedSchool)'
      md-item-text="item.nombre+', '+item.nom_municipio"
      md-floating-label="Escuela"
      ng-model='story.school'
      >
    <md-item-template>
      <span md-highlight-text="searchText">{{item.nombre}}, {{item.nom_municipio}}</span>
    </md-item-template>
  </md-autocomplete>
  <md-input-container flex='50'>
    <label>CCT</label>
    <input required ng-model="story.cct" >
  </md-input-container>
  <md-input-container flex='50'>
    <label>Email</label>
    <input type='email' required ng-model="story.email">
  </md-input-container>
  <md-input-container flex='50'>
    <label>Teléfono</label>
    <input required ng-model="story.phone">
  </md-input-container>
  <md-input-container flex='50'>
    <label>Cuentanos tu historia</label>
    <textarea required ng-model="story.content" rows="4"></textarea>
  </md-input-container>
  <md-input-container flex='50'>
    <label>Nombres de los padres de familia</label>
    <textarea required ng-model="story.parents" rows="4" ></textarea>
  </md-input-container>
  <md-input-container flex='50' >
    <div ng-file-reader on-readed="onReaded( event, file )" read-method="readMethod" accept="image/*" ></div>
    <p>{{file.name}}</p>
    <p>tamaño:{{file.size | fileSize}}</p>
  </md-input-container>
  <md-button ng-if='!saved' class="md-raised md-primary" ng-click='save()'>Enviar</md-button>
</md-card>
<div layout-fill layout='column' layout-align='center center' flex ng-if='saving' style='height:100%'>
  <md-progress-linear md-mode="indeterminate"></md-progress-linear>
  <p>Guardando....</p>
</div>
<md-card layout-padding ng-if='saved' layout-fill flex>
  <h3>Gracias por tu entrada</h3>
</md-card>
